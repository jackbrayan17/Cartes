<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
   
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <style>
        #map {
            position: absolute;
            top: 0; bottom: 0; left: 0; right: 0;
            width: 100%;
            height: 100%;
        }
        html, body { width: 100%; height: 100%; margin: 0; padding: 0; }
        .leaflet-container { font-size: 1rem; }

        /* Style unique pour le tooltip permanent */
        .permanent-tooltip {
            background-color: rgba(255, 255, 255, 0.95) !important;
            border: 2px solid #333 !important;
            border-radius: 8px !important;
            padding: 8px 12px !important;
            font-size: 12px;
            font-weight: bold;
            box-shadow: 0 2px 10px rgba(0,0,0,0.4);
            max-width: 280px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .permanent-tooltip strong {
            display: block;
            font-size: 13px;
            margin-bottom: 4px;
        }
        .permanent-tooltip small {
            font-weight: normal;
            color: #555;
        }
    </style>
    <script>
        L_NO_TOUCH = false;
        L_DISABLE_3D = false;
    </script>
</head>
<body>
    <div class="folium-map" id="map"></div>
</body>
<script>
    // Initialisation de la carte
    var map = L.map("map", {
        center: [7.0, 12.0],
        zoom: 6,
        zoomControl: true,
        preferCanvas: false
    });

    // Couche OpenStreetMap
    L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
        maxZoom: 19
    }).addTo(map);

    // Tableau de couleurs distinctes
    var colors = [
        '#e52d2d', '#e52816', '#e52700', '#e55d2d', '#e55d16', '#e56200', '#e58c2d', '#e59216', '#e59d00', '#e5bb2d',
        '#e5c716', '#e5d800', '#e0e52d', '#cde516', '#b7e500', '#b1e52d', '#98e516', '#7ce500', '#81e52d', '#63e516',
        '#41e500', '#52e52d', '#2ee516', '#06e500', '#2de538', '#16e534', '#00e534', '#2de567', '#16e569', '#00e56f',
        '#2de596', '#16e59e', '#00e5aa', '#2de5c6', '#16e5d3', '#00e5e5', '#2dd5e5', '#16c2e5', '#00aae5', '#2da6e5',
        '#168ce5', '#006fe5', '#2d77e5', '#1657e5', '#0034e5', '#2d48e5', '#1622e5', '#0600e5', '#422de5', '#4016e5',
        '#4100e5', '#722de5', '#7516e5', '#7c00e5', '#a12de5', '#aa16e5', '#b700e5', '#d02de5', '#df16e5', '#e500d8',
        '#e52dcb', '#e516b6', '#e5009d', '#e52d9c', '#e51681', '#e50062', '#e52d6c', '#e5164c', '#e50027', '#e52d3d'
    ];

    // Données mises à jour avec les nouvelles coordonnées décimales
    var locations = [
        {name: "GIC DJOUMA", tel: "—", zone: "Bamguel, Maroua", region: "Extreme nord", lat: 10.8, lng: 14.05},
        {name: "NDOUMESSI", tel: "—", zone: "Kribi, Centre", region: "Sud", lat: 2.925, lng: 9.9167},
        {name: "GIC PRODUCTEURS DES OIGNONS", tel: "—", zone: "Nord", region: "Nord", lat: 10.61, lng: 14.37},
        {name: "GIC PRODUCTEURS DES PEPINIERES DE MAYO-LOUE", tel: "7E+08", zone: "Nord", region: "Nord", lat: 8.241056, lng: 13.21742},
        {name: "GIC MADINA DES PRODUCTEURS DES CULTURES MARAICHERES DE BARGARAM", tel: "6.53E+08", zone: "Ilarifa, Extreme nord", region: "Extreme nord", lat: 12.44, lng: 14.95},
        {name: "groupe des élèves de Volaille de Rouge", tel: "6.77E+08", zone: "Donry-BENOUE", region: "Nord", lat: 10.74028, lng: 13.80278},
        {name: "Société coopérative simplifiée des éleveurs de poulet, de chair", tel: "6.92E+08", zone: "NASSARAO-GAROUA", region: "Nord", lat: 9.333333, lng: 13.18333},
        {name: "Mandu, à Wawo, épouse Mbakom", tel: "6.96E+08", zone: "foumbot", region: "Ouest", lat: 5.563333, lng: 10.66833},
        {name: "GROUPE D'INITIATIVE COMMUNE DES PRODUCTEURS ET COMMERCANTS DES FRUITS DU MAYO-DANAY", tel: "6.98E+08", zone: "Caïcaï, dans le quartier Mangal(maroua)", region: "Extreme nord", lat: 10.66676, lng: 15.02846},
        {name: "SCOOPS PROD. MAÏS ET OIGNONS KOZA", tel: "6.97E+08", zone: "Caïcaï, dans le quartier Mangal(maroua)", region: "Extreme nord", lat: 10.66676, lng: 15.02846},
        {name: "SOCIETE COOPERATIVE AVEC CONSEIL D'ADMINISTRATION DES PRODUCTEURS D'OIGNON DE NGONG", tel: "6.95E+08", zone: "Tamoundé, en allant vers Tukalongo", region: "Nord", lat: 13.33358, lng: 13.18333},
        {name: "Société des Producteurs d'Oignons", tel: "69000012", zone: "Dockbar, en allant vers Tamoundé", region: "Nord", lat: 10.7336, lng: 14.60928},
        {name: "NOPING", tel: "6.91E+08", zone: "DOUALA", region: "Littoral", lat: 4.03, lng: 9.7},
        {name: "Sanaga Farms", tel: "7E+08", zone: "BAFOUSSAM", region: "Ouest", lat: 5.47775, lng: 10.41759},
        {name: "Madame Saïz épouse Wemny", tel: "677766234 / 696606480", zone: "Yaoundé et à Ebolowa", region: "Sud", lat: 2.916664, lng: 11.15},
        {name: "Coopérative d'éleveurs de canards et de poulets de Bupindi", tel: "6.75E+08", zone: "Bipindi", region: "Sud", lat: 3.083333, lng: 10.41666},
        {name: "TIOMELA CLOTILDE", tel: "6.75E+08", zone: "foumbot", region: "Ouest", lat: 5.383611, lng: 10.65639},
        {name: "GROUPE D'INITIATIVE COMMUNE DE FABRICATION NATURELLE DE YAOURT DU LITTORAL CENTRE", tel: "7E+08", zone: "Littoral", region: "Littoral", lat: 4.078833, lng: 9.793694},
        {name: "GIC DES PRODUCTRICES DE MANIOC", tel: "6.78E+08", zone: "Littoral", region: "Littoral", lat: 4.051389, lng: 9.685556},
        {name: "LYCEE DE GARI-GOMBO", tel: "6.52E+08", zone: "Littoral", region: "Littoral", lat: 4.016667, lng: 9.716667},
        {name: "SOCIETE COOPERATIVE AVEC CONSEIL D'ADMINISTRATION AGROPASTORALE DES ACTEURS DU DEVELOPPEMENT DE NITOUKOU", tel: "6.78E+08", zone: "Tshukou", region: "Extreme nord", lat: 4.63, lng: 10.88},
        {name: "Groupe Initiatives Communes Agropastoral", tel: "677-76-6234 / 696-60-6480", zone: "FOUMBOT", region: "Ouest", lat: 5.503, lng: 10.637},
        {name: "SOCIETE COOPERATIVE SIMPLIFIEE RECOLTE 237 FERME NKOUE", tel: "6.91E+08", zone: "Centre", region: "Centre", lat: 7.365302, lng: 12.34344},
        {name: "SOCIÉTÉ COOPERATIVE SIMPLIFIEE DES PRODUCTEURS DE PATATE DE BONJONG", tel: "6.97E+08", zone: "Adamaoua", region: "Adamaoua", lat: 6.333661, lng: 13.53071},
        {name: "SCOOPS PTASPL", tel: "6.56E+08", zone: "yaoundé", region: "Centre", lat: 3.938333, lng: 11.51556},
        {name: "SOCIETE COOPERATIVE AVEC CONSEIL D'ADMINISTRATION DES PRODUCTEURS DE MANIOC WARACK MADIKOUM", tel: "6.96E+08", zone: "Adamaoua", region: "Adamaoua", lat: 28.06074, lng: 78.82411},
        {name: "Leprince", tel: "6.99E+08", zone: "", region: "", lat: null, lng: null}, // pas de coordonnées
        {name: "STE COOP-CA DE PRODUCTION ET TRANSFORMATION DE MANIOC ET ACTIVITÉS CONNEXES DE MBANGASSINA", tel: "6.75E+08", zone: "", region: "Centre", lat: 4.629722, lng: 11.70694},
        {name: "SOCIETE COOPÉRATIVE AVEC CONSEIL D'ADMINISTRATION DES PRODUCTEURS DE MANIOC SAPE DE BERTOUA", tel: "6.92E+08", zone: "Bertoua", region: "Est", lat: 4.575, lng: 13.68444},
        {name: "coopacam -", tel: "7E+08", zone: "MFOU", region: "Centre", lat: 4.45, lng: 11.63333},
        {name: "SCOOP MAN DE MBALMAYO", tel: "6.97E+08", zone: "Mbalmayo", region: "Centre", lat: 3.516667, lng: 11.5},
        {name: "Maraiamou", tel: "6.96E+08", zone: "Maroua", region: "Extreme Nord", lat: 10.58333, lng: 14.31667},
        {name: "Groupe produccteur de poisson", tel: "6.82E+08", zone: "Benbis à sangmelina", region: "Sud", lat: 3.433333, lng: 12.45},
        {name: "Vente poisson fumé", tel: "6.96E+08", zone: "Bertoua", region: "Est", lat: 4.575, lng: 13.68444},
        {name: "Vente poulet fumé", tel: "6.96E+08", zone: "Bertoua", region: "Est", lat: 4.575, lng: 13.68444},
        {name: "Gic producteur de Haricot", tel: "67038821", zone: "Foumbot", region: "Ouest", lat: 5.503, lng: 10.637},
        {name: "integrity-fruits", tel: "—", zone: "Douala", region: "Littoral", lat: 4.078889, lng: 9.666667},
        {name: "Gic producteur de poisson Henri Samet", tel: "699 90 92 98", zone: "Kribi", region: "Centre", lat: 2.845556, lng: 9.885556},
        {name: "makou-epse-fotsing-delphine", tel: "—", zone: "Douala", region: "Littoral", lat: 4.016667, lng: 9.733333},
        {name: "organisation interprofessionnelle de la filière lait de vaches au Cameroun", tel: "6.98E+08", zone: "TCHABAM-FARO", region: "Nord", lat: 10.58333, lng: 14.31667},
        {name: "Mélanie Tekaneng", tel: "6.98E+08", zone: "Bertoua", region: "Est", lat: 4.575, lng: 13.68444},
        {name: "Moisso-Michel", tel: "6.95E+08", zone: "KRIBI", region: "Sud", lat: 2.845556, lng: 9.885556},
        {name: "Pompou Mangac", tel: "6.97E+08", zone: "mbang-BATOURI", region: "Est", lat: 4.433333, lng: 14.36667},
        {name: "société coopérative", tel: "656 02 80 82", zone: "NDOM,AKONOLINGA", region: "Centre", lat: 3.766667, lng: 12.25},
        {name: "NYANO Patrice", tel: "7E+08", zone: "Nkolbisson YAOUNDE", region: "Centre", lat: 3.871944, lng: 11.455},
        {name: "KINDAG adlist sarl", tel: "653 90 79 49", zone: "Makak Centre", region: "Centre", lat: 3.548611, lng: 11.02778},
        {name: "société Harris Yaourt", tel: "670 10 09 31", zone: "Yaoundé Ngoa ékelle", region: "Centre", lat: 3.986111, lng: 11.83306},
        {name: "SCOOPS C.A.B.K.J", tel: "6.91E+08", zone: "Ngaoundéré", region: "Adamaoua", lat: 7.316667, lng: 13.58333},
        {name: "GIC FAPAC DE MFOU", tel: "7E+08", zone: "Mfou", region: "Centre", lat: 4.45, lng: 11.63333},
        {name: "OMBOLO BELLA du GIC JAEO d’Obala", tel: "6.78E+08", zone: "Obala", region: "Centre", lat: 4.166667, lng: 11.53333},
        {name: "ETS AGRITECH YAOUNDE", tel: "6.71E+08", zone: "Yaoundé odza", region: "Centre", lat: 3.783333, lng: 11.53333},
        {name: "Gic nel-agro", tel: "69995991", zone: "Nkolafamba", region: "Centre", lat: 3.858889, lng: 11.66472},
        {name: "GIC ESPERANCE", tel: "6.76E+08", zone: "", region: "", lat: null, lng: null}, // pas de coordonnées
        {name: "GIC AIDONS NOUS D'OBALA", tel: "6.57E+08", zone: "EKOUMDOUM", region: "Centre", lat: 3.816667, lng: 11.53333},
        {name: "BANANA GROUP", tel: "6.78E+08", zone: "Simaleng yaoundé", region: "Centre", lat: 3.720164, lng: 11.552},
        {name: "SCOOPS SAPAS", tel: "6.94E+08", zone: "Guidè au nord", region: "Nord", lat: 36.8065, lng: 10.18156},
        {name: "GIC AGRONE de Nanga Eboko", tel: "673434672/679229967", zone: "Nanga Eboko", region: "Centre", lat: 4.683333, lng: 12.36667},
        {name: "GIC LA RESERVE, à Djoandjila", tel: "694 16 99 10", zone: "Djoandjila", region: "", lat: null, lng: null}, // pas de coordonnées
        {name: "GIC MAIN VERTE, à Batchenga", tel: "6.99E+08", zone: "Batchenga", region: "Centre", lat: 4.283333, lng: 11.65},
        {name: "GIC UNION FAIT LA FORCE DE PANGARI", tel: "677 64 70 25", zone: "PANGARI", region: "Adamaoua", lat: 6.01, lng: 13.3625},
        {name: "AGRIDEVERT", tel: "6.53E+08", zone: "ADAMAWA / BANQUIM", region: "Adamaoua", lat: 6.2833, lng: 11.1333},
        {name: "GKIBIA AGROPORT", tel: "6.74E+08", zone: "ADAMAWA / BANQUIM", region: "Adamaoua", lat: 6.15, lng: 11.45},
        {name: "BEGEL SARL à Mindourou", tel: "699 771 423/696 006 048", zone: "Mindourou", region: "Est", lat: 3.4158, lng: 13.5394},
        {name: "L'UNION DES SOCIETES COOPERATIVES AVEC CONSEIL D'ADMINISTRATION DES TRANSFORMATEURS DE LAIT DE MAROUA 1ER", tel: "696154363", zone: "Nord", region: "Nord", lat: 9.322602, lng: 13.39339},
        {name: "société Aris Yaourt", tel: "670 10 09 31", zone: "Yaoundé Ngoa ékelle", region: "Centre", lat: 3.986111, lng: 11.83306},
        {name: "GIC GENGAL", tel: "6.78E+08", zone: "Soa", region: "Centre", lat: 3.978056, lng: 11.59583},
        {name: "ONGOLA EDZIMBI EPSE NDJOCK NGUIDJOL ELISABETH LAETITIA", tel: "6.91E+08", zone: "Fandena", region: "Centre", lat: 3.885278, lng: 11.54083},
        {name: "société Gic Niyya femme prod lait MINDIF", tel: "6.98E+08", zone: "Mindif departement Maye kany", region: "Extreme nord", lat: 10.4, lng: 14.43333},
        {name: "ATADJAM EPSE BAKARY", tel: "6-94-53-32-32", zone: "MAROUA, DOMAYO, BAR LAITIER NDJAREN", region: "Extreme nord", lat: 10.55, lng: 14.15},
        {name: "DAKGO POLYCARPE", tel: "677-003157", zone: "Douala", region: "Littoral", lat: 4.051389, lng: 9.685556}
    ];

    // Ajout des marqueurs (seulement ceux avec coordonnées valides)
    locations.forEach(function(loc, index) {
        if (loc.lat === null || loc.lng === null) return; // ignore les entrées sans coordonnées

        var color = colors[index % colors.length];

        var marker = L.circleMarker([loc.lat, loc.lng], {
            color: color,
            fill: true,
            fillColor: color,
            fillOpacity: 0.8,
            radius: 8,
            weight: 2
        }).addTo(map);

        // Popup au clic
        var popupHtml = `
            <div style="min-width:200px;">
                <strong>${loc.name}</strong><br>
                Région : ${loc.region || "—"}<br>
                Ville / zone : ${loc.zone || "—"}<br>
                Tél : ${loc.tel || "—"}
            </div>`;
        marker.bindPopup(popupHtml, {maxWidth: 300});

        // Tooltip permanent unique (visible dès le chargement)
        var tooltipHtml = `
            <strong>${loc.name}</strong><br>
            <small>Région : ${loc.region || "—"}<br>
            Ville / zone : ${loc.zone || "—"}<br>
            Tél : ${loc.tel || "—"}</small>
        `;
        marker.bindTooltip(tooltipHtml, {
            permanent: true,
            direction: 'top',
            className: 'permanent-tooltip',
            offset: [0, -10]
        });
    });
</script>
</html>