<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
   
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <style>
        #map {
            position: absolute;
            top: 0; bottom: 0; left: 0; right: 0;
            width: 100%;
            height: 100%;
        }
        html, body { width: 100%; height: 100%; margin: 0; padding: 0; }
        .leaflet-container { font-size: 1rem; }

        /* Style unique pour le tooltip permanent */
        .permanent-tooltip {
            /* background-color: rgba(255, 255, 255, 0.95) !important; */
            background-color:none;
            border: 1px solid #333 !important;
            border-radius: 8px !important;
            padding: 8px 12px !important;
            font-size: 12px;
            font-weight: bold;
            box-shadow: 0 2px 10px rgba(0,0,0,0.4);
            max-width: 280px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .permanent-tooltip strong {
            display: block;
            font-size: 7px;
            margin-bottom: 4px;
        }
        .permanent-tooltip small {
            font-weight: normal;
            color: #555;
        }
    </style>
    <script>
        L_NO_TOUCH = false;
        L_DISABLE_3D = false;
    </script>
</head>
<body>
    <div class="folium-map" id="map"></div>
</body>
<script>
    // Initialisation de la carte
    var map = L.map("map", {
        center: [7.0, 12.0],
        zoom: 6,
        zoomControl: true,
        preferCanvas: false
    });

    // Couche OpenStreetMap
    L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
        maxZoom: 19
    }).addTo(map);

    // Tableau de couleurs distinctes
    var colors = [
        '#e52d2d', '#e52816', '#e52700', '#e55d2d', '#e55d16', '#e56200', '#e58c2d', '#e59216', '#e59d00', '#e5bb2d',
        '#e5c716', '#e5d800', '#e0e52d', '#cde516', '#b7e500', '#b1e52d', '#98e516', '#7ce500', '#81e52d', '#63e516',
        '#41e500', '#52e52d', '#2ee516', '#06e500', '#2de538', '#16e534', '#00e534', '#2de567', '#16e569', '#00e56f',
        '#2de596', '#16e59e', '#00e5aa', '#2de5c6', '#16e5d3', '#00e5e5', '#2dd5e5', '#16c2e5', '#00aae5', '#2da6e5',
        '#168ce5', '#006fe5', '#2d77e5', '#1657e5', '#0034e5', '#2d48e5', '#1622e5', '#0600e5', '#422de5', '#4016e5',
        '#4100e5', '#722de5', '#7516e5', '#7c00e5', '#a12de5', '#aa16e5', '#b700e5', '#d02de5', '#df16e5', '#e500d8',
        '#e52dcb', '#e516b6', '#e5009d', '#e52d9c', '#e51681', '#e50062', '#e52d6c', '#e5164c', '#e50027', '#e52d3d'
    ];

    // Données mises à jour avec les nouvelles coordonnées décimales
    var locations = [
    { name: "GIC PRODUCTEURS DES PEPINIERES DE MAYO-LOUE", lat: 8.241056, lng: 13.21742 },
    { name: "GIC MADINA DES PRODUCTEURS DES CULTURES MARAICHERES DE BARGARAM", lat: 10.8, lng: 14.05 },
    { name: "groupe des élèves de Volaille de Rouge", lat: 10.74028, lng: 13.80278 },
    { name: "Société coopérative simplifiée des éleveurs de poulet, de chair", lat: 9.333333, lng: 13.18333 },
    { name: "Mandu, à Wawo, épouse Mbakom", lat: 5.563333, lng: 10.66833 },
    { name: "GROUPE D'INITIATIVE COMMUNE DES PRODUCTEURS ET COMMERCANTS DES FRUITS DU MAYO-DANAY", lat: 10.66676, lng: 15.02846 },
    { name: "SCOOPS PROD. MAÏS ET OIGNONS KOZA", lat: 10.66676, lng: 15.02846 },
    { name: "SOCIETE COOPERATIVE AVEC CONSEIL D'ADMINISTRATION DES PRODUCTEURS D'OIGNON DE NGONG", lat: 10.8, lng: 14.05 },
    { name: "Société des Producteurs d'Oignons", lat: 10.7336, lng: 14.60928 },
    { name: "NOPING", lat: 4.03, lng: 9.7 },
    { name: "Sanaga Farms", lat: 5.47775, lng: 10.41759 },
    { name: "Madame Saïz épouse Wemny", lat: 2.916664, lng: 11.15 },
    { name: "Coopérative d'éleveurs de canards et de poulets de Bupindi", lat: 3.083333, lng: 10.41666 },
    { name: "TIOMELA CLOTILDE", lat: 5.383611, lng: 10.65639 },
    { name: "GROUPE D'INITIATIVE COMMUNE DE FABRICATION NATURELLE DE YAOURT DU LITTORAL CENTRE", lat: 4.078833, lng: 9.793694 },
    { name: "GIC DES PRODUCTRICES DE MANIOC", lat: 4.051389, lng: 9.685556 },
    { name: "LYCEE DE GARI-GOMBO", lat: 4.016667, lng: 9.716667 },
    { name: "SOCIETE COOPERATIVE AVEC CONSEIL D'ADMINISTRATION AGROPASTORALE DES ACTEURS DU DEVELOPPEMENT DE NITOUKOU", lat: 10.58333, lng: 14.31667 },
    { name: "Groupe Initiatives Communes Agropastoral", lat: 5.503, lng: 10.637 },
    { name: "SOCIETE COOPERATIVE SIMPLIFIEE RECOLTE 237 FERME NKOUE", lat: 7.365302, lng: 12.34344 },
    { name: "SOCIÉTÉ COOPERATIVE SIMPLIFIEE DES PRODUCTEURS DE PATATE DE BONJONG", lat: 6.333661, lng: 13.53071 },
    { name: "SCOOPS PTASPL", lat: 3.938333, lng: 11.51556 },
    { name: "SOCIETE COOPERATIVE AVEC CONSEIL D'ADMINISTRATION DES PRODUCTEURS DE MANIOC WARACK MADIKOUM", lat: 13.33358, lng: 13.18333 },
    { name: "Leprince", lat: null, lng: null },
    { name: "STE COOP-CA DE PRODUCTION ET TRANSFORMATION DE MANIOC ET ACTIVITÉS CONNEXES DE MBANGASSINA", lat: 4.629722, lng: 11.70694 },
    { name: "SOCIETE COOPÉRATIVE AVEC CONSEIL D'ADMINISTRATION DES PRODUCTEURS DE MANIOC SAPE DE BERTOUA", lat: 10.66676, lng: 15.02846 },
    { name: "coopacam -", lat: 4.45, lng: 11.63333 },
    { name: "SCOOP MAN DE MBALMAYO", lat: 3.516667, lng: 11.5 },
    { name: "Maraiamou", lat: 10.58333, lng: 14.31667 },
    { name: "Groupe produccteur de poisson", lat: 3.433333, lng: 12.45 },
    { name: "Vente poisson fumé", lat: 4.575, lng: 13.68444 },
    { name: "Vente poulet fumé", lat: 4.575, lng: 13.68444 },
    { name: "Gic producteur de Haricot", lat: 5.503, lng: 10.637 },
    { name: "integrity-fruits", lat: 4.078889, lng: 9.666667 },
    { name: "Gic producteur de poisson Henri Samet", lat: 2.845556, lng: 9.885556 },
    { name: "makou-epse-fotsing-delphine", lat: 4.016667, lng: 9.733333 },
    { name: "organisation interprofessionnelle de la filière lait de vaches au Cameroun", lat: 10.58333, lng: 14.31667 },
    { name: "Mélanie Tekaneng", lat: 4.575, lng: 13.68444 },
    { name: "Moisso-Michel", lat: 2.845556, lng: 9.885556 },
    { name: "Pompou Mangac", lat: 4.433333, lng: 14.36667 },
    { name: "société coopérative", lat: 3.766667, lng: 12.25 },
    { name: "NYANO Patrice", lat: 3.871944, lng: 11.455 },
    { name: "KINDAG adlist sarl", lat: 3.548611, lng: 11.02778 },
    { name: "société Harris Yaourt", lat: 3.986111, lng: 11.83306 },
    { name: "SCOOPS C.A.B.K.J", lat: 7.316667, lng: 13.58333 },
    { name: "GIC FAPAC DE MFOU", lat: 4.45, lng: 11.63333 },
    { name: "OMBOLO BELLA du GIC JAEO d’Obala", lat: 4.166667, lng: 11.53333 },
    { name: "ETS AGRITECH YAOUNDE", lat: 3.783333, lng: 11.53333 },
    { name: "Gic nel-agro", lat: 3.858889, lng: 11.66472 },
    { name: "GIC ESPERANCE", lat: null, lng: null },
    { name: "GIC AIDONS NOUS D'OBALA", lat: 3.816667, lng: 11.53333 },
    { name: "BANANA GROUP", lat: 3.720164, lng: 11.552 },
    { name: "SCOOPS SAPAS", lat: 36.8065, lng: 10.18156 },
    { name: "GIC AGRONE de Nanga Eboko", lat: 4.683333, lng: 12.36667 },
    { name: "GIC LA RESERVE, à Djoandjila", lat: null, lng: null },
    { name: "GIC MAIN VERTE, à Batchenga", lat: 4.283333, lng: 11.65 },
    { name: "GIC UNION FAIT LA FORCE DE PANGARI", lat: 6.01, lng: 13.3625 },
    { name: "AGRIDEVERT", lat: 6.2833, lng: 11.1333 },
    { name: "GKIBIA AGROPORT", lat: 6.15, lng: 11.45 },
    { name: "BEGEL SARL à Mindourou", lat: 3.4158, lng: 13.5394 },
    { name: "L'UNION DES SOCIETES COOPERATIVES AVEC CONSEIL D'ADMINISTRATION DES TRANSFORMATEURS DE LAIT DE MAROUA 1ER", lat: 9.322602, lng: 13.39339 },
    { name: "société Aris Yaourt", lat: 3.986111, lng: 11.83306 },
    { name: "GIC GENGAL", lat: 3.978056, lng: 11.59583 },
    { name: "ONGOLA EDZIMBI EPSE NDJOCK NGUIDJOL ELISABETH LAETITIA", lat: 3.885278, lng: 11.54083 },
    { name: "société Gic Niyya femme prod lait MINDIF", lat: 10.4, lng: 14.43333 },
    { name: "ATADJAM EPSE BAKARY", lat: 10.55, lng: 14.15 },
    { name: "DAKGO POLYCARPE", lat: 4.051389, lng: 9.685556 }
];

    // Ajout des marqueurs (seulement ceux avec coordonnées valides)
    locations.forEach(function(loc, index) {
        if (loc.lat === null || loc.lng === null) return; // ignore les entrées sans coordonnées

        var color = colors[index % colors.length];

        var marker = L.circleMarker([loc.lat, loc.lng], {
            color: color,
            fill: true,
            fillColor: color,
            fillOpacity: 0.8,
            radius: 8,
            weight: 2
        }).addTo(map);

        // Popup au clic
        var popupHtml = `
            <div style="min-width:200px;">
                <strong>${loc.name}</strong><br>
                Région : ${loc.region || "—"}<br>
                Ville / zone : ${loc.zone || "—"}<br>
                Tél : ${loc.tel || "—"}
            </div>`;
        marker.bindPopup(popupHtml, {maxWidth: 300});

        // Tooltip permanent unique (visible dès le chargement)// <small>Région : ${loc.region || "—"}<br>
            // Ville / zone : ${loc.zone || "—"}<br>
            // Tél : ${loc.tel || "—"}</small>





        
        var tooltipHtml = `
            <strong>${loc.name}</strong><br>
            
        `;
        marker.bindTooltip(tooltipHtml, {
            permanent: true,
            direction: 'top',
            className: 'permanent-tooltip',
            offset: [0, -10]
        });
    });
</script>
</html>
